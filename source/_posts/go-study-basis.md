---
title: go-study-basis
date: 2018-08-14 14:32:55
tags:
 - go
categories:
 - go
---


学习Go的笔记纪要。


- ## 变量 
 
Go 同其他语言不同的地方在于变量的类型在变量名的后面。
```
不是:int a， 而是 a int
```


- ### 声明变量

当定义了一个变量，它默认赋值为其类型的 null 值。
>这意味着， 在 var a int后，a 的值为 0。
而 var s string，意味着 s 被赋值为零长度字符串， 也就是 ""。

<front color=red> 在 Go 中，声明和赋值是两过程，但是可以连在一起= <front/>

<!--more-->



- ##  变量声明方式


声明示例 | 说明
---- | ---
var a int；<br/> a=3； | 使用保留字var声明变量，然后赋值给它
a:=3 |  同时完成了声明和赋值；<br/>只可用在函数内;<br/>变量的类型是由值推演出来的
var （ <br/> x int <br/> b bool <br/>） |  多个var 声明可以成组;<br/>const和import 同样允许这么做,留意圆括号的使用。
<1>  var x, y int <br/><br/> <2>     a, b := 20, 16 |  有相同类型的多个变量同样可以在一行内完成声明
_, b := 34, 35 |  一个特殊的变量名是 _(下划线)。任何赋给它的值都被丢弃;
new 函数 |  表达式new(T)将创建一个T类型的匿名变量。<br/>初始化为T类型的零值，<front color=red>然后返回变量地址</front>，返回的指针类型为*T

new 函数声明变量示例：
```
p := new(int) // p, *int 类型, 指向匿名的 int 变量

fmt.Println(*p) // "0"

*p = 2 // 设置 int 匿名变量的值为 2 fmt.Println(*p) // "2"
```
>==用new创建变量和普通变量声明语句方式创建变量没有什么区别，除了不需要声明一个临时变量的名字外，我们还可以在表达式中使用new(T)。在、（注：每次调用new函数都是返回一个新的变量的地址）==

>==备注：Go的编译器对声明却未使用的变量会报错==






- ##  指针 

- ## 什么是指针？
>一个指针变量指向了一个值的内存地址。类似于变量和常量，在使用指针前你需要声明指针。

```
一个指针的值是另一个变量的地址。一个指针对应变量在内存中的存储位置。并不是每一个值都会有一
个内存地址，但是对于每一个变量必然有对应的内存地址。通过指针，我们可以直接读或更新对应变量
的值，而不需要知道该变量的名字(如果变量有名字的话)。
```
- ##  如何声明指针？
指针声明格式如下：
```
var var_name *var-type

// var-type 为指针类型，
// var_name 为指针变量名，
// * 号用于指定变量是作为一个指针。

// 以下是有效的指针声明：

var ip *int        /* 指向整型*/
var fp *float32    /* 指向浮点型 */

```

- ##  如何使用指针？

- 指针使用流程：
  - 定义指针变量。
  - 为指针变量赋值。
  - 访问指针变量中指向地址的值。

> 在指针类型前面加上 * 号（前缀）来获取指针所指向的内容。

代码示例：
```
package main

import "fmt"

func main() {
   var a int= 20   /* 声明实际变量 */
   var ip *int        /* 声明指针变量 */
   

   ip = &a  /* 指针变量的存储地址 */

   fmt.Printf("a 变量的地址是: %x\n", &a  )

   /* 指针变量的存储地址 */
   fmt.Printf("ip 变量储存的指针地址: %x\n", ip )

   /* 使用指针访问值 */
   fmt.Printf("*ip 变量的值: %d\n", *ip )
}
```
输出结果：

```
a 变量的地址是: 20818a220

ip 变量储存的指针地址: 20818a220

*ip 变量的值: 20

```
 
- ## 什么是空指针？
>当一个指针被定义后没有分配到任何变量时，它的值为nil,nil 指针也称为空指针。nil在概念上和其它语言的null、None、nil、NULL一样，都指代零值或空值
 
 
- ## 指针比较
>指针之间也是可以进行相等测试的，只有当它们指向同一个变量或全部是nil时才相等。
 
示例：
```
 var x, y int
 fmt.Println(&x == &x, &x == &y, &x == nil) // "true false false"
```

- ## 数据类型
>Go语言将数据类型分为四类:基础类型、复合类型、引用类型和接口类型;


- ##  基础数据类型

![avatar](/images/go_basis_list.png)

- ## 整型

![avatar](/images/go-init.png)

>两个相同的整数类型可以使用下面的二元比较运算符进行比较;比较表达式的结果是布尔类型.

- ## 浮点数
![avatar](/images/go-float.png)

- ## 字符串
  #### 字符串操作


