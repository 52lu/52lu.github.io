---
title: PHP float金额在强制转换为整型时，发现数值不对。
date: 2018-08-07
tags:
 - php
categories:
  - php 
---

今天发现一个很奇怪的问题: PHP float金额在强制转换为整型时，发现数值和实际相差1分。

<!--more-->
```$xslt

今天发现一个很奇怪的问题；

    我有一笔订单金额为$a = 529.80  交易时我做了金额检验：
    
    客户端传给我的是字符串52980（分），
    
    我从数据库取出是：529.80 然后 * 100 （变成分） $b = 52980，
    
    然后在转为整型 intval($b),发现一个奇怪的问题，变成了52979 少了一分。然后都试了一遍，发现：
    
    [ *.30  *.80  *.31  *.81 ]  都有这个问题


具体原因还不明白。

```